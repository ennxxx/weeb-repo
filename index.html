<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="icon" href="images/icon.png" type="image/png">
    

    <!-- Bootstrap and Ajax-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- CSS Files for Index -->
    <link rel="stylesheet" href="style/navbar.css">
    <link rel="stylesheet" href="style/indexstyle.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="index.html">
            <img src="images/logo/logo3.png" id="logo">
        </a>
        <div class="search-bar">
            <input type="text" placeholder="Search Weeb Lib...">
        </div>
        <div class="nav-buttons">
            <a href="featured.html">Featured</a>
            <a href="polls.html">Polls</a>
            <a href="anime.html">Anime</a>
            <a href="games.html">Games</a>
            <img src="images/profile.png" id="profile">
            <div class="dropdown">
                <a href="javascript:void(0);" id="user-dropdown">
                    <img src="images/navbar/dropdown.png" id="dropdown">
                </a>
                <div class="dropdown-content">
                    <a href="profile.html">My Profile</a>
                    <a href="#">My Posts</a>
                    <a href="signin.html">Log out</a>
                </div>
            </div>
            <a href="signin.html" id="signin-link">Sign In</a>
        </div>
    </nav>

    <!-- Carousel -->
    <div class="carousel-container">
        <div id="index-carousel" class="carousel slide" data-ride="carousel">

            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#index-carousel" data-slide-to="0" class="active"></li>
                <li data-target="#index-carousel" data-slide-to="1"></li>
                <li data-target="#index-carousel" data-slide-to="2"></li>
                <li data-target="#index-carousel" data-slide-to="3"></li>
            </ol>

            <!-- Slides -->
            <div class="carousel-inner">
                <div class="item active">
                    <div class="frame">
                        <img src="images/carousel/images1.png" alt="main-pic">
                    </div>
                </div>
                <div class="item">
                    <div class="frame">
                        <img src="images/carousel/images2.png" alt="pic-2">
                    </div>
                </div>
                <div class="item">
                    <div class="frame">
                        <img src="images/carousel/images3.png" alt="pic-3">
                    </div>
                </div>
                <div class="item">
                    <div class="frame">
                        <img src="images/carousel/images4.png" alt="pic-4">
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <a class="left carousel-control" href="#index-carousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#index-carousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="postpoll-container">

        <!-- Posts -->
        <div class="posts-container">

            <!-- Sample User -->
            <div class="user-post-container">
                <img src="images/profile.png" class="post-profile">
                <a href="javascript:void(0)" onclick="openPopup();">Open Popup</a>
                <div id="overlay" style="display: none;"></div>
                <div id="popup" style="display: none;">
                  <span id="close" onclick="closePopup()">X</span>
                  <h2> Create Post </h2>
                  <div id="title-container">
                    <textarea id="title" placeholder="Title" maxlength="50" oninput="checkTitleLength()"></textarea>
                    <span id="title-count">0/50</span>
                  </div>
                  
                  <div id="toolbar">
                    <button class="toolbar-buttons" onclick="makeBold()"><strong>B</strong></button>
                    <button class="toolbar-buttons" onclick="makeUnderline()"><u>U</u></button>
                    <button class="toolbar-buttons" onclick="makeItalic()"><em>I</em></button>
                    <button class="toolbar-buttons" onclick="makeBullet()"><img src="images/bullet_icon.png" alt="Bullet Form"></button>
                    <button class="toolbar-buttons" onclick="insertImage()"><img src="images/image_icon.png" alt="Insert Image"></button>
                  </div>
                  
                  <div id="content" contenteditable="true" placeholder="Content" style="border: 1px solid #ccc; padding: 5px;"></div>
                  <br>
                  
                  <div>
                    <label for="url">URL:</label>
                    <input type="text" id="url" placeholder="Enter URL">
                  </div>
                  <br>
                  
                  <button id="popup-submit" onclick="submitForm()">Submit</button>
                  <span id="submit-message"></span>
                </div>
            </div>

            <!-- Sample Post 1 -->
            <div class="post-container">
                <div class="vote">
                    <button class="upvote-button">
                        <img src="images/post/upvote.png" class="upvote">
                    </button>
                    <p class="num-votes">45</p>
                    <button class="downvote-button">
                        <img src="images/post/downvote.png" class="downvote">
                    </button>
                </div>
                <a href="view.html?id=1" class="post-clickable">
                    <div class="content">
                        <div class="post-content">
                            <h4 class="title">Best Agent on Ascent?</h4>
                            <p class="author">by <span>cornbrip69</span></p>
                            <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                                sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                                veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo...</p>
                            <img src="images/post/sample.png" class="sample">
                        </div>
                </a>
                <div class="post-actions">
                    <button class="comment-button">
                        <img src="images/post/comment.png" class="comment">
                    </button>
                    <p>12 Comments</p>
                    <button class="share-button">
                        <img src="images/post/share.png" class="share">
                    </button>
                    <p>Share</p>
                    <button class="save-button">
                        <img src="images/post/save.png" class="save">
                    </button>
                </div>
            </div>
        </div>

        <!-- Sample Post 2 -->
        <div class="post-container">
            <div class="vote">
                <button class="upvote-button">
                    <img src="images/post/upvote.png" class="upvote">
                </button>
                <p class="num-votes">45</p>
                <button class="downvote-button">
                    <img src="images/post/downvote.png" class="downvote">
                </button>
            </div>
            <a href="view.html?id=2" class="post-clickable">
                <div class="content">
                    <div class="post-content">
                        <h4 class="title">Best Agent on Ascent?</h4>
                        <p class="author">by <span>cornbrip69</span></p>
                        <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                            veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo...</p>
                        <img src="images/post/sample.png" class="sample">
                    </div>
            </a>
            <div class="post-actions">
                <button class="comment-button">
                    <img src="images/post/comment.png" class="comment">
                </button>
                <p>12 Comments</p>
                <button class="share-button">
                    <img src="images/post/share.png" class="share">
                </button>
                <p>Share</p>
                <button class="save-button">
                    <img src="images/post/save.png" class="save">
                </button>
            </div>
        </div>
    </div>

    <!-- Sample Post 3 -->
    <div class="post-container">
        <div class="vote">
            <button class="upvote-button">
                <img src="images/post/upvote.png" class="upvote">
            </button>
            <p class="num-votes">45</p>
            <button class="downvote-button">
                <img src="images/post/downvote.png" class="downvote">
            </button>
        </div>
        <a href="view.html?id=3" class="post-clickable">
            <div class="content">
                <div class="post-content">
                    <h4 class="title">Best Agent on Ascent?</h4>
                    <p class="author">by <span>cornbrip69</span></p>
                    <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo...</p>
                    <img src="images/post/sample.png" class="sample">
                </div>
        </a>
        <div class="post-actions">
            <button class="comment-button">
                <img src="images/post/comment.png" class="comment">
            </button>
            <p>12 Comments</p>
            <button class="share-button">
                <img src="images/post/share.png" class="share">
            </button>
            <p>Share</p>
            <button class="save-button">
                <img src="images/post/save.png" class="save">
            </button>
        </div>
    </div>
    </div>

    <!-- Sample Post 4 -->
    <div class="post-container">
        <div class="vote">
            <button class="upvote-button">
                <img src="images/post/upvote.png" class="upvote">
            </button>
            <p class="num-votes">45</p>
            <button class="downvote-button">
                <img src="images/post/downvote.png" class="downvote">
            </button>
        </div>
        <a href="view.html?id=4" class="post-clickable">
            <div class="content">
                <div class="post-content">
                    <h4 class="title">Best Agent on Ascent?</h4>
                    <p class="author">by <span>cornbrip69</span></p>
                    <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo...</p>
                    <img src="images/post/sample.png" class="sample">
                </div>
        </a>
        <div class="post-actions">
            <button class="comment-button">
                <img src="images/post/comment.png" class="comment">
            </button>
            <p>12 Comments</p>
            <button class="share-button">
                <img src="images/post/share.png" class="share">
            </button>
            <p>Share</p>
            <button class="save-button">
                <img src="images/post/save.png" class="save">
            </button>
        </div>
    </div>
    </div>

    <!-- Sample Post 5 -->
    <div class="post-container">
        <div class="vote">
            <button class="upvote-button">
                <img src="images/post/upvote.png" class="upvote">
            </button>
            <p class="num-votes">45</p>
            <button class="downvote-button">
                <img src="images/post/downvote.png" class="downvote">
            </button>
        </div>
        <a href="view.html?id=5" class="post-clickable">
            <div class="content">
                <div class="post-content">
                    <h4 class="title">Best Agent on Ascent?</h4>
                    <p class="author">by <span>cornbrip69</span></p>
                    <p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit,
                        sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo...</p>
                    <img src="images/post/sample.png" class="sample">
                </div>
        </a>
        <div class="post-actions">
            <button class="comment-button">
                <img src="images/post/comment.png" class="comment">
            </button>
            <p>12 Comments</p>
            <button class="share-button">
                <img src="images/post/share.png" class="share">
            </button>
            <p>Share</p>
            <button class="save-button">
                <img src="images/post/save.png" class="save">
            </button>
        </div>
    </div>
    </div>

    </div>

    <!-- Polls -->
    <div class="polls-container">
        <h4>Check this out</h4>
        <hr>
        <h4>Polls</h4>
        <hr>
    </div>
    </div>

<script src="js/index.js"></script>
<script>
    // .________________________.
    // ||			           ||
    // ||      Write Post      ||
    // ||______________________||
    // '			            '
    
    function openPopup() {
    	document.getElementById("overlay").style.display = "block";
    	document.getElementById("popup").style.display = "block";
      }
    
      function closePopup() {
    	document.getElementById("overlay").style.display = "none";
    	document.getElementById("popup").style.display = "none";
      }
    
      function makeBold() {
    	document.execCommand('bold', false, null);
      }
    
      function makeUnderline() {
    	document.execCommand('underline', false, null);
      }
    
      function makeItalic() {
    	document.execCommand('italic', false, null);
      }
    
      function makeBullet() {
    	document.execCommand('insertUnorderedList', false, null);
      }
    
      function insertImage() {
    	var input = document.createElement('input');
    	input.type = 'file';
    	input.accept = 'image/*';
    	input.addEventListener('change', handleFileSelection);
    	input.click();
    
    	function handleFileSelection(event) {
    	  var file = event.target.files[0];
    	  if (file) {
    		var reader = new FileReader();
    		reader.onload = function() {
    		  var imageUrl = reader.result;
    		  var imgElement = document.createElement("img");
    		  imgElement.src = imageUrl;
    		  imgElement.classList.add("resizable"); // Add the 'resizable' class
    		  document.getElementById("content").appendChild(imgElement);
    		};
    		reader.readAsDataURL(file);
    	  }
    	}
      }
    
      function checkTitleLength() {
    	var titleInput = document.getElementById("title");
    	var title = titleInput.value;
    	var maxLength = parseInt(titleInput.getAttribute("maxlength"));
    	var countElement = document.getElementById("title-count");
    	var count = title.length;
    
    	countElement.textContent = count + "/" + maxLength;
    
    	if (count > maxLength) {
    	  titleInput.value = title.slice(0, maxLength); // Trim the title to the maximum length
    	  countElement.style.color = "red";
    	} else {
    	  countElement.style.color = "#999";
    	}
      }
    
    function submitForm() {
    var title = document.getElementById("title").value;
    var content = document.getElementById("content").innerHTML;
    var url = document.getElementById("url").value;
    console.log('Title:', title);
    console.log('Content:', content);
    console.log('URL:', url);
    document.getElementById("submit-message").innerHTML = "Post Submitted!";
    document.getElementById("submit-message").style.color = "green";
    }
</script>
</body>

</html>
